# Калькулятор

Это веб-приложение представляет собой реактивный сервис для выполнения вычислений, построенный на базе Spring Boot и Project Reactor. Приложение демонстрирует обработку асинхронных потоков данных.

## Функции

*   Запускает указанное количество итераций вычислений.
*   Поддерживает два режима работы:
    1.  **Асинхронный (неупорядоченный)**: Вычисления выполняются параллельно, результаты возвращаются по мере готовности.
    2.  **Синхронный (упорядоченный)**: Вычисления выполняются последовательно, результаты возвращаются в строгом порядке.
*   Отдает результаты в виде потока серверных событий (Server-Sent Events).

## Технологии

*   **Java 21**
*   **Spring Boot**
*   **Project Reactor** (для реализации реактивных потоков)
*   **Gradle** (система сборки)
*   **GraalVM JavaScript** (для выполнения вычислений)

## Требования

*   **JDK 21** или выше.
*   **Git** (для клонирования репозитория).

## Установка и запуск

1.  **Клонируйте репозиторий:**
    ```bash
    git clone https://github.com/Abikimoz/calculator.git>
    cd calculator
    ```

2.  **Соберите и запустите приложение с помощью Gradle:**
    *   Для Unix/macOS:
        ```bash
        ./gradlew bootRun
        ```
    *   Для Windows:
        ```bash
        gradlew.bat bootRun
        ```

## Использование API

Приложение предоставляет одну конечную точку (endpoint) для запуска вычислений.

*   **Endpoint**: `GET /api/calculate`
*   **Тип ответа**: `text/event-stream`

### Параметры запроса

*   `count` (обязательный): Целое число, указывающее, сколько итераций вычислений нужно выполнить.
*   `ordered` (необязательный): Булево значение (`true` или `false`).
    *   `false` (по умолчанию): Запускает асинхронный (неупорядоченный) поток вычислений.
    *   `true`: Запускает синхронный (упорядоченный) поток.

### Примеры использования

Вы можете использовать утилиту `curl` для взаимодействия с API.

1.  **Запрос на 10 асинхронных вычислений (режим по умолчанию):**
    ```bash
    curl "http://localhost:8080/api/calculate?count=10"
    ```

2.  **Запрос на 5 синхронных (упорядоченных) вычислений:**
    ```bash
    curl "http://localhost:8080/api/calculate?count=5&ordered=true"
    ```

Вывод будет представлять собой поток данных в формате CSV, где каждая строка — это отдельное событие.

## Логирование

Приложение настроено на запись логов в файл.

*   **Расположение файла**: `logs/calculator.log`
*   **Уровни логирования**:
    *   `root`: `INFO`
    *   `com.example.test`: `DEBUG`

Это позволяет отслеживать как общие события приложения, так и детальную информацию для отладки в пакете `com.example.test`.
