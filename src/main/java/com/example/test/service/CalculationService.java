package com.example.test.service;

import reactor.core.publisher.Mono;

/**
 * Интерфейс для сервисов, которые могут выполнять скриптовые функции.
 * Эта абстракция позволяет взаимозаменяемо использовать различные скриптовые движки
 * (например, JavaScript, Python).
 *
 * SOLID (O): Принцип открытости/закрытости.
 * Позволяет системе быть открытой для расширения (добавление новых движков вычислений),
 * но закрытой для модификации (не нужно менять CalculationFlowServiceImpl).
 *
 * SOLID (I): Принцип разделения интерфейса.
 * Интерфейс минималистичен и содержит только то, что необходимо клиентам.
 *
 * ООП: Принцип Абстракции.
 * Этот интерфейс определяет "контракт" для всех сервисов вычислений.
 * Он говорит, ЧТО сервис должен делать (вычислять функцию), но не говорит, КАК.
 * Детали реализации (например, использование GraalVM для JavaScript) скрыты
 * от классов, которые будут использовать этот сервис.
 */
public interface CalculationService {

    /**
     * Асинхронно вычисляет заданную скриптовую функцию с целочисленным аргументом.
     *
     * @param function Строковое представление функции для выполнения.
     * @param argument Целочисленный аргумент, который будет передан в функцию.
     * @return Mono, который вернет результат вычисления в виде float.
     */
    Mono<Double> evaluate(String function, int argument);
}
